Traditional attribute grammars (AGs) are declarative programs for local computations over trees that can be efficiently compiled. Current expressive extensions to support graphs and other rich structures either forsake a wide body of static optimization literature or require indirect encodings. Of recent interest, reference attribute grammars are dynamically scheduled and higher-order attribute grammars advocate writing a graph as a lazily expanded infinite tree. In this paper, we show how to statically schedule 2 conceptually simple constructs for graph attribute grammars (GAGs): first-class, nested, and collectable references, and abstract syntax trees augmented with non-local edges (including cyclic ones).

We examine the implementation and use of our constructs. First, we show rewrite rules for translating GAGs into traditional AGs in order to reuse an existing AG scheduler. Subsequent code generation requires only minor sophistication to reintroduce pointers and loops. Second, we present new constructs to better exploit our primitives, such as for dynamically \emph{binding} a node as a child of multiple parents. Finally, we apply our extensions to declaratively specifying difficult features of the popular CSS webpage layout language.


